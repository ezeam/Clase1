<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <details>
      <h1 strong>(M4) Exercici EXTRA 3. Juguem a pedra, paper o tisora</h1>
      <p>
        Escriu un programa que et permeti jugar pedra, paper o tisora ​​amb
        l'ordinador. Per a això l'ordinador haurà de generar un nombre aleatori
        entre 1 i 3 que representi pedra, paper o tisora ​​respectivament, i
        l'usuari/ària haurà de respondre al seu torn amb un nombre entre l'1 i
        el 3 després de mostrar la següent pantalla: Juguem a pedra, paper o
        tisora: 1. Pedra 2. Paper 3. Tisora Tria (1-3): Si l'usuari/ària indica
        algun nombre diferent del sol·licitat, haurà d'aparèixer el següent
        missatge: «Entenc que no vols jugar. Adeu» En cas contrari, indicar el
        guanyador/a de la següent manera: Jo xxx i tu xxx. He guanyat!, o Has
        guanyat! Segons sigui el cas. Exemple: «Jo paper i tu tisora. Has
        guanyat!»
      </p>
      >
      <hr style="color: blueviolet" />
    </details>
    <p>
      ¡Juguemos a priedra, papel o tijera! (1-Piedra. 2-Papel. 3-Tijera.):
      <br /><input id="eleccion" type="number" />
    </p>
    <button onclick="jugar()">Jugar</button>
    <p id="resultado"></p>

    <script>
      function jugar() {
        const arrayEleccion = ["", "Piedra", "Papel", "Tijera"];

        let numRandom = Math.floor(Math.random() * (4 - 1)) + 1;
        console.log("Random: ", numRandom);

        let numeroSeleccionado = parseInt(
          document.getElementById("eleccion").value
        );
        console.log("1-piedra//2papel//3tijera ", numeroSeleccionado);

        if (numeroSeleccionado < 1 || numeroSeleccionado > 3) {
          // console.log ("Entras?");
          alert("Entiendo que no quieres jugar, adiós");
          window.close();
        } else {
             if (numRandom == numeroSeleccionado) {
                document.getElementById(
                 "resultado"
                ).innerHTML = `¡EMPATE! Los dos hemos escogido ${arrayEleccion[numRandom]}`;
          } else if (
            (numRandom == 1 && numeroSeleccionado == 3) ||
            (numRandom == 2 && numeroSeleccionado == 1) ||
            (numRandom == 3 && numeroSeleccionado == 2)
          ) {
            document.getElementById(
              "resultado"
            ).innerHTML = `PC: ${arrayEleccion[numRandom]} // Usuario: ${arrayEleccion[numeroSeleccionado]}. ¡GANA PC!`; 
          } else {
            document.getElementById(
              "resultado"
            ).innerHTML = `PC: ${arrayEleccion[numRandom]} // Usuario: ${arrayEleccion[numeroSeleccionado]}. ¡GANA USUARIO!`; 
          }
        }
      }
    </script>
  </body>
</html>
