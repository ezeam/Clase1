<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>(M7.3.) Exercici 3. Indica si la frase és palíndrom.</title>
  </head>
  <body>
    <h2>Indica si la frase és palíndrom</h2>
    <p>
      L’usuari/ària ha d’introduir una frase i el programa ha de dir si la frase
      és un palíndrom
    </p>
    <hr />

    <p>Introduzca una frase: <input id="frase" type="text" /></p>
    <button onclick="main()">¿Es palíndromo?</button>
    <p id="resultado"></p>

    <script>
      const casosA = "aàáâ";
      const casosE = "eèéêë";
      const casosI = "iìíîï";
      const casosO = "oòóô";
      const casosU = "uùúûü";
      const CONSONANTES = "bcçdfghjklmnñpqrstvwxyz";

      function main() {
        let frase = document.getElementById("frase").value;
        frase = frase.toLowerCase();
        console.log("Frase en minúsculas: ", frase);

        let fraseLimpia = limpiarString(frase);
        console.log("Frase limpia: ", fraseLimpia);

        let fraseGirada = girarString(fraseLimpia);
        console.log("Frase girada: ", fraseGirada);

        let resultado = " ";
          if(fraseGirada == fraseLimpia){
            resultado = `La frase ${frase} SÍ es un palíndromo`;
          }
          else{
            resultado = `La frase ${frase} NO es un palíndromo`;
          }
        document.getElementById("resultado").innerHTML = resultado;
      }
      function limpiarString(frase) {
        let fraseLimpia = "";   

        for (let i = 0; i < frase.length; i++) {
          if (casosA.includes(frase.charAt(i))) {
            fraseLimpia += "a";
          } else if (casosE.includes(frase.charAt(i))) {
            fraseLimpia += "e";
          } else if (casosI.includes(frase.charAt(i))) {
            fraseLimpia += "i";
          } else if (casosO.includes(frase.charAt(i))) {
            fraseLimpia += "o";
          } else if (casosU.includes(frase.charAt(i))) {
            fraseLimpia += "u";
          } else if (CONSONANTES.includes(frase.charAt(i))) {
            fraseLimpia += frase.charAt(i);
          }
        }
        return fraseLimpia;
      }
      function girarString(frase) {
        let stringGirada = "";

        for (let i = frase.length; i >= 0; i--) {
          stringGirada += frase.charAt(i);
        }
        return stringGirada;
      }
    </script>
  </body>
</html>
