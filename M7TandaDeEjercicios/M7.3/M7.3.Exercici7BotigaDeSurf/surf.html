<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>(M7.3.) Exercici 7. Botiga de surf</title>
</head>
<body>
  <h3>Botiga de surf:</h3>
  <p>
    Trabajaremos con alerts y prompts. <br>
    Escriu un programa per una botiga de surf on se li exposarà un menú als usuaris i usuàries amb les següents opcions:
   <br>1-Calcular material taula (crida a una funció que rep un boolean que representi si la persona té experiència o no) si té, retornarà el missatge "taula de fibra", si no retornarà el missatge "taula d'espuma". (demanem amb un popup si l'usuari/ària si té experiència o no)    
   <br>2-Imprimir forecast (crida a una funció  que rep l'alçada de l'onada en metres). Si l'alçada és més de 2 metres, imprimirà "onades grans", si no imprimirà "onades petites". (Introduïm l'alçada de les onades amb un popup)    
   <br>3-Calcula el cost per reserva: crida una funció que rep els minuts de reserva i el tipus de taula reservada i et retorna el cost de la reserva. Demanem per consola els minuts i els tipus:  
   <br>Taula tipus espuma: 20 € cada 60 min.
   <br>Taula tipus fibra: 35 € cada 60 min.   
   <br>4-Sortir del programa.    
    Fins que la persona no escrigui un 4, el programa ha de continuar mostrant el menú i donar la possibilitat de fer accions.</p>
    <p>
      <label for="menu">Tienda de surf: </label>
      <select id="menu">
        <option value="1">Calcular material tabla</option>
        <option value="2">Imprimir forecast</option>
        <option value="3">Calcular coste por reserva</option>
        <option value="4">Salir</option>
      </select>
    </p>
    <button onclick="main()">Acceder</button>
    <p id="resultado"></p>

    <script>
      function main(){
        let seleccion = parseInt(document.getElementById("menu").value);        
        let tieneExperiencia = false;
        let experiencia = "";
        let metroOla = 0;

        switch (seleccion) {
          case 1: //Calcular material tabla
            experiencia = prompt("¿Tiene experiencia haciendo surf? (S-si/ N-no)");
            if(experiencia.toUpperCase() == "S"){
              tieneExperiencia = true;
              document.getElementById("resultado").innerHTML = escogeTabla(tieneExperiencia);
            }
            else if(experiencia.toUpperCase() == "N"){
              tieneExperiencia = false;
              document.getElementById("resultado").innerHTML = escogeTabla(tieneExperiencia);
            }
            else{
              alert("No hemos entendido su respuesta");
            }           
            break;
          case 2: //Imprimir forecast
            metroOla = prompt("¿Cuántos metros tiene la ola?");
            document.getElementById("resultado").innerHTML = calculaOla(metroOla);
            break;
          case 3: //Calcular coste por reserva
           
            break;
          case 4: //Salir
            alert("Va a salir de la aplicación");
            window.close();
            break;
        }
        function escogeTabla(tieneExperiencia){
          let msj = "";
          if(tieneExperiencia == true){
            msj = "Tabla de fibra";
          }
          else{
            msj = "Tabla de espuma";
          }
          return msj;
        }
        function calculaOla(metro){
          let msj = "";
          if(metro >= 2){
            msj = "Olas grandes"
          }
          else{
            msj = "Olas pequeñas"
          }
          return msj;
        }
      }
      
    </script>
</body>
</html>